<div class="inscription">
  <div class="card" role="region" aria-labelledby="inscrip-title">
    <div class="card-header">
      <div class="brand">{{ tr('inscription.brand', 'Flag Quiz') }}</div>
      <h1 id="inscrip-title" class="title">{{ tr('inscription.title', 'Créer un compte') }}</h1>
      <div class="lead">{{ tr('inscription.lead', 'Inscrivez-vous pour sauvegarder vos scores') }}</div>
    </div>

    <form [formGroup]="inscriptionForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="input-group">
        <label for="name">{{ tr('inscription.nameLabel','Nom') }}</label>
        <input id="name" type="text" formControlName="name" [class.is-invalid]="f.name.touched && f.name.invalid" autocomplete="name" placeholder="{{ tr('inscription.nameLabel','Nom') }}" />
        <div class="helper" *ngIf="f.name.touched && f.name.invalid">{{ tr('inscription.nameError','Nom requis (min 2 caractères)') }}</div>
      </div>

      <div class="input-group">
        <label for="email">{{ tr('inscription.emailLabel','Email') }}</label>
        <input id="email" type="email" formControlName="email" [class.is-invalid]="f.email.touched && f.email.invalid" autocomplete="email" placeholder="{{ tr('inscription.emailLabel','Email') }}" />
        <div class="helper" *ngIf="f.email.touched && f.email.invalid">{{ tr('inscription.emailError','Email invalide') }}</div>
      </div>

      <div class="input-group">
        <label for="password">{{ tr('inscription.passwordLabel','Mot de passe') }}</label>
        <input id="password" type="password" formControlName="password" [class.is-invalid]="f.password.touched && f.password.invalid" autocomplete="new-password" placeholder="{{ tr('inscription.passwordLabel','Mot de passe') }}" />
        <div class="helper" *ngIf="f.password.touched && f.password.invalid">{{ tr('inscription.passwordError','Mot de passe (min 6 caractères)') }}</div>
      </div>

      <div class="input-group">
        <label for="confirm">{{ tr('inscription.confirmLabel','Confirmer mot de passe') }}</label>
        <input id="confirm" type="password" formControlName="confirm" [class.is-invalid]="inscriptionForm.hasError('mismatch') && f.confirm.touched" autocomplete="new-password" placeholder="{{ tr('inscription.confirmLabel','Confirmer mot de passe') }}" />
        <div class="helper" *ngIf="inscriptionForm.hasError('mismatch') && f.confirm.touched">{{ tr('inscription.confirmError','Les mots de passe ne correspondent pas') }}</div>
      </div>

      <div *ngIf="error" class="form-error" role="alert">{{ error }}</div>

      <div class="actions">
        <label class="tos">
          <input type="checkbox" formControlName="tos" />
          <span>{{ tr('inscription.tos',"J'accepte les conditions") }}</span>
        </label>

        <div class="buttons">
          <button class="btn ghost" type="button" routerLink="/">{{ tr('inscription.cancel','Annuler') }}</button>
          <button class="btn primary" type="submit" [disabled]="submitting">
            <span *ngIf="!submitting">{{ tr('inscription.submit',"S'inscrire") }}</span>
            <span *ngIf="submitting">{{ tr('inscription.saving','Enregistrement...') }}</span>
          </button>
        </div>
      </div>

      <div class="foot">
        {{ tr('inscription.already','Déjà un compte ?') }} <a routerLink="/login">{{ tr('inscription.login','Se connecter') }}</a>
      </div>
    </form>
  </div>
</div>
